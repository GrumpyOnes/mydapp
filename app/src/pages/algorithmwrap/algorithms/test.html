<script>
    const trap2 = (height) => {
  let r = height.length - 1;
  let l = 0;
  let ans = 0;
  let pre_max = 0;
  let suf_max = 0;
  while (l <= r) {
    pre_max = Math.max(pre_max, height[l]);
    suf_max = Math.max(suf_max, height[r]);
    if (pre_max < suf_max) {
      ans += pre_max - height[l];
      l++;
    } else {
      ans += suf_max - height[r];
      r--;
    }
  }
  return ans;
};
console.log(trap2([0,1,0,2,1,0,1,3,2,1,2,1]))

//origin 0,1,0,2,1,0,1,3,2,1,2,1
//left   0,0,1,1,2,2,2,2,3,3,3,3
//right  3,3,3,3,3,3,3,2,2,2,1,0
//difmin 0,0,1,1,2,2,2,2,2,2,1,0
//water  0,0,1,0,1,2,1,0,0,1,0,0  

</script>